<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Storage Searching System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .top-monitor-bar {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            background: var(--card);
            padding: 15px 30px;
            border-bottom: 1px solid var(--border);
            gap: 20px;
            font-family: 'Courier New', monospace;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .monitor-clock { color: var(--accent); font-weight: bold; font-size: 1.2rem; }
        .monitor-date { color: var(--text); opacity: 0.7; font-size: 0.9rem; }
    </style>
</head>
<body class="light-mode">

    <nav class="sidebar">
        <div class="sidebar-header">
            <div class="logo-circle"><i class="fas fa-search-location"></i></div>
            <span>Storage v2.0</span>
        </div>
        <ul class="nav-links">
            <li><a href="#" onclick="showSection('dashboard')"><i class="fas fa-home"></i> OVERVIEW</a></li>
            <li><a href="#" onclick="showSection('shelf-view')"><i class="fas fa-layer-group"></i> STORAGE RACKS</a></li>
            <li><a href="#" onclick="showSection('database')"><i class="fas fa-table"></i> MASTER RECORDS</a></li>
        </ul>
        <div class="sidebar-footer">
            <button class="theme-toggle" onclick="toggleTheme()">
                <i class="fas fa-adjust"></i> <span id="theme-text">DARK MODE</span>
            </button>
        </div>
    </nav>

    <div class="main-container">
        <div class="top-monitor-bar">
            <div class="monitor-date" id="live-date">Loading Date...</div>
            <div class="monitor-clock" id="live-clock">00:00:00</div>
        </div>

        <section id="dashboard" class="content-section">
            <div class="welcome-banner">
                <h1>Storage Searching System</h1>
                <p>Real-time archive monitoring and management.</p>
            </div>
            
            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-icon blue"><i class="fas fa-server"></i></div>
                    <div><h3>Total Racks</h3><p id="stat-racks">0</p></div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon orange"><i class="fas fa-box"></i></div>
                    <div><h3>Total Boxes</h3><p id="stat-boxes">0</p></div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon green"><i class="fas fa-file-alt"></i></div>
                    <div><h3>Total Files</h3><p id="stat-files">0</p></div>
                </div>
            </div>

            <div class="search-container">
                <div class="section-header"><h2><i class="fas fa-search"></i> Global Search Engine</h2></div>
                <div class="search-bar-wrapper">
                    <input type="text" id="global-search" placeholder="Search by Box #, File #, Name, or Label..." onkeyup="executeSearch()">
                    <i class="fas fa-search search-icon"></i>
                </div>
                
                <div id="search-monitor" class="monitor-display">
                    <div class="monitor-header">SEARCH RESULTS MONITOR</div>
                    <div class="monitor-body">
                        <table class="monitor-table">
                            <thead>
                                <tr><th>Box</th><th>Rack</th><th>File No.</th><th>Full Name</th><th>Label</th></tr>
                            </thead>
                            <tbody id="monitor-results">
                                <tr><td colspan="5" style="text-align:center; padding:20px; color:#888;">Enter search terms...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="shelf-view" class="content-section" style="display:none;">
            <div class="section-header">
                <h1>Archive Shelving</h1>
                <button class="btn-primary-pro" onclick="addShelvingRack()">+ NEW RACK</button>
            </div>
            <div id="shelf-grid" class="shelf-grid"></div>
        </section>

        <section id="single-shelf-view" class="content-section" style="display:none;">
            <div class="view-header">
                <button class="btn-back" onclick="showSection('shelf-view')"><i class="fas fa-chevron-left"></i> BACK</button>
                <h1 id="current-rack-title">Rack Detail</h1>
                <button id="add-box-btn" class="btn-primary-pro" style="margin-left: auto;">+ ADD BOX</button>
            </div>
            <div id="box-grid" class="box-grid"></div>
        </section>

        <section id="box-detail-view" class="content-section" style="display:none;">
            <div class="view-header">
                <button class="btn-back" onclick="goBackToRack()"><i class="fas fa-chevron-left"></i> BACK</button>
                <h1 id="detail-box-title">File Entry</h1>
            </div>
            <div class="pro-form-container">
                <div class="box-info-header">
                    <span id="box-num-display">BOX #</span> | <span id="file-count-display">0/100 Files</span>
                </div>
                <div class="form-grid">
                    <div class="input-group"><label>Entry Date</label><input type="date" id="entry-date"></div>
                    <div class="input-group"><label>File Number</label><input type="text" id="file-number" placeholder="Reference #"></div>
                    <div class="input-group full-width"><label>Full Name</label><input type="text" id="full-name" placeholder="Name"></div>
                    <div class="input-group full-width"><label>Label</label><input type="text" id="entry-label" placeholder="Category"></div>
                </div>
                <button class="btn-save" onclick="addFileToBox()">ADD FILE TO THIS BOX</button>
                
                <div class="current-box-files">
                    <h3>Files in this Box</h3>
                    <div id="current-box-list"></div>
                </div>
            </div>
        </section>

        <section id="database" class="content-section" style="display:none;">
            <div class="section-header">
                <h1>Master Inventory Ledger</h1>
                <button class="btn-sync" onclick="syncToGitHub()">
                    <i class="fas fa-cloud-upload-alt"></i> SYNC TO GITHUB
                </button>
            </div>
            <div class="table-card">
                <table>
                    <thead>
                        <tr><th>Box #</th><th>Rack</th><th>Date</th><th>File No.</th><th>Name</th><th>Label</th></tr>
                    </thead>
                    <tbody id="db-body"></tbody>
                </table>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
